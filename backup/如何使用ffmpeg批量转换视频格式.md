在前几天，老狐在班上被那群住宿生围住要俺给他们的mp3下视频，整个宿舍也mp3的全给了老狐俺，俺只好接下这个“重任”了，不过这三四个的mp3要下的视频也太多了，而且由于是比较低级的设备，视频格式只支持.amv格式的，还要下很多视频，但是现在视频大多都是.mp4格式的导致俺要想让他们的设备可以播放视频就需要转换格式才行，但这又出现了一个问题，如果一个一个的转换的话也太慢了，所以我就使用批量转换格式的命令来提升效率，那么下面我就以50多集的蜡笔小新来做演示不过在演示之前你可能需要先下载ffmpeg，不过一般下载mpv或vlc都会自动安装，因此不需要安装

那么首先如果只是转换一个视频的话就是以下命令：
` ffmpeg -i  xx.mp4  -ar 22050  -ac 1  -s 208x160  -r 18  -block_size 1225   xx.amv`

  如果是几个视频还好，如果是好几个视频就一点吃力了，所以我们可以使用批量转换的命令，首先我们先cd到我们要操作的目录，再新建一个文件夹用来存放转换后的文件
`mkdir ser`
然后使用使用以下命令来批量转换
````
for f in *.mp4; do ffmpeg -i  -ar 22050  -ac 1  -s 208x160  -r 18  -block_size 1225  "$f" "converted/${f%.mp4}.amv"; done
````
这样就可以批量转换格式了

下面我解释一下命令

for f in *.mp4：循环播放所有 .mp4 文件。

ffmpeg -i    -ar 22050  -ac 1  -s 208x160  -r 18  -block_size 1225   “$f” “converted/${f%.mp4}.amv”： ffmpeg 将转换每个文件，并将其存储在新建文件夹里

更多ffmepg命令可以参考[ffmpeg wiki](https://trac.ffmpeg.org/)

  总的来说ffmepg相对于一些图形化的格式转换软件具有：功能强大，性能优越等优势